 bdede.txt

@PURPOSE: Mechanisms for standard encodings and hashings, e.g., base64, md5.

@MNEMONIC: Basic Development Environment Data Encoder (bdede)

@AUTHOR: Tom Marshall (tmarshal)

@SEE_ALSO:

@DESCRIPTION: The 'bdede' package provides mechanisms (typically in the form of
 fully value-semantic objects) for performing various standard hashings of an
 input dataset, for, e.g., basic encoding, check-sums, and cryptographic
 hashes.

/Hierarchical Synopsis
/---------------------
 The 'bdede' package currently has 10 components having 2 levels of physical
 dependency.  The list below shows the hierarchical ordering of the components.
 The order of components within each level is not architecturally significant,
 just alphabetical.
..
  2. bdede_base64decoder
     bdede_charconvertucs2
     bdede_charconvertutf16

  1. bdede_base64encoder
     bdede_charconvertstatus
     bdede_crc32
     bdede_md5
     bdede_quotedprintabledecoder
     bdede_quotedprintableencoder
     bdede_utf8util
..

/Component Synopsis
/------------------
: 'bdede_base64decoder':
:      Provide automata for converting to and from Base64 encodings.
:
: 'bdede_base64encoder':
:      Provide automata for converting to and from Base64 encodings.
:
: 'bdede_charconvertstatus':
:      Enumerate masks for interpreting status from charconvert functions.
:
: 'bdede_charconvertucs2':
:      Provide efficient conversions between UTF-8 and UCS-2 encodings.
:
: 'bdede_charconvertutf16':
:      Provide fast, safe conversion between UTF-8 and UTF-16 encodings.
:
: 'bdede_crc32':
:      Provide a mechanism for computing the CRC-32 checksum of a dataset.
:
: 'bdede_md5':
:      Provide a value-semantic type encoding a message in an MD5 digest.
:
: 'bdede_quotedprintabledecoder':
:      Provide automata converting to and from Quoted-Printable encodings.
:
: 'bdede_quotedprintableencoder':
:      Provide automata converting to and from Quoted-Printable encodings.
:
: 'bdede_utf8util':
:      Provide basic utilities for UTF-8 encodings.

/Usage
/-----
 This section is under construction.

/CRC-32 Example
/- - - - - - -
 The following snippets of code illustrate a typical use of the 'bdede_Crc32'
 class.  Each function would typically execute in separate processes or
 potentially on separate machines.  The 'senderExample' function below
 demonstrates how a message sender can write a message and its CRC-32
 checksum to a 'bdex' output stream.  Note that 'Out' may be a 'typedef'
 of any class that implements the 'bdex_OutStream' protocol:
..
  void senderExample(Out& output)
      // Write a message and its CRC-32 checksum to the specified 'output'
      // stream.
  {
      // prepare a message
      std::string message = "This is a test message.";

      // generate a checksum for 'message'
      bdede_Crc32 crc(message.data(), message.length());

      // write the message to 'output'
      output << message;

      // write the checksum to 'output'
      output << crc;
  }
..
 The 'receiverExample' function below illustrates how a message receiver can
 read a message and its CRC-32 checksum from a 'bdex' input stream, then
 perform a local CRC-32 computation to verify that the message was received
 intact.  Note that 'In' may be a 'typedef' of any class that implements the
 'bdex_InStream' protocol:
..
  void receiverExample(In& input)
      // Read a message and its CRC-32 checksum from the specified 'input'
      // stream, and verify the integrity of the message.
  {
      // read the message from 'input'
      std::string message;
      input >> message;

      // read the checksum from 'input'
      bdede_Crc32 crc;
      input >> crc;

      // locally compute the checksum of the received 'message'
      bdede_Crc32 crcLocal;
      crcLocal.update(message.data(), message.length());

      // verify that the received and locally-computed checksums match
      assert(crcLocal == crc);
  }
..

/MD5 Example
/- - - - - -
 The following snippets of code illustrate a typical use of the 'bdede_Md5'
 class.  Each function would typically execute in separate processes or
 potentially on separate machines.  The 'senderExample' function below
 demonstrates how a message sender can write a message and its MD5 hash to a
 'bdex' output stream.  Note that 'Out' may be a 'typedef' of any class that
 implements the 'bdex_OutStream' protocol:
..
  void senderExample(Out& output)
      // Write a message and its MD5 hash to the specified 'output' stream.
  {
      // prepare a message
      std::string message = "This is a test message.";

      // generate a hash for 'message'
      bdede_Md5 hash(message.data(), message.length());

      // write the message to 'output'
      output << message;

      // write the hash to 'output'
      output << hash;
  }
..
 The 'receiverExample' function below illustrates how a message receiver can
 read a message and its MD5 hash from a 'bdex' input stream, then perform a
 local MD5 computation to verify that the message was received intact.  Note
 that 'In' may be a 'typedef' of any class that implements the
 'bdex_InStream' protocol:
..
  void receiverExample(In& input)
      // Read a message and its MD5 hash from the specified 'input' stream,
      // and verify the integrity of the message.
  {
      // read the message from 'input'
      std::string message;
      input >> message;

      // read the hash from 'input'
      bdede_Md5 hash;
      input >> hash;

      // locally compute the hash of the received 'message'
      bdede_Md5 hashLocal;
      hashLocal.update(message.data(), message.length());

      // verify that the received and locally-computed hashes match
      assert(hashLocal == hash);
  }
..
